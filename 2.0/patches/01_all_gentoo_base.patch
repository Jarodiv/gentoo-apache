---
 Makefile.in                    |    2 +-
 include/httpd.h                |    2 +-
 modules/ssl/ssl_engine_mutex.c |    2 ++
 server/Makefile.in             |    3 +++
 server/core.c                  |    2 +-
 support/apxs.in                |   13 -------------
 6 files changed, 8 insertions(+), 16 deletions(-)

--- a/Makefile.in
+++ b/Makefile.in
@@ -14,7 +14,7 @@ PROGRAM_DEPENDENCIES = \
 PROGRAMS        = $(PROGRAM_NAME)
 TARGETS         = $(PROGRAMS) $(shared_build) $(other_targets)
 PHONY_TARGETS   = $(srcdir)/buildmark.c
-INSTALL_TARGETS = install-conf install-htdocs install-error install-icons \
+INSTALL_TARGETS = install-htdocs install-error install-icons \
 	install-other install-cgi install-include install-suexec install-man \
 	install-build
 
--- a/include/httpd.h
+++ b/include/httpd.h
@@ -138,7 +138,7 @@ extern "C" {
 
 /* The path to the suExec wrapper, can be overridden in Configuration */
 #ifndef SUEXEC_BIN
-#define SUEXEC_BIN  HTTPD_ROOT "/bin/suexec"
+#define SUEXEC_BIN  "/usr/sbin/suexec"
 #endif
 
 /* The timeout for waiting for messages */
--- a/modules/ssl/ssl_engine_mutex.c
+++ b/modules/ssl/ssl_engine_mutex.c
@@ -42,6 +42,8 @@ int ssl_mutex_init(server_rec *s, apr_po
     if (mc->nMutexMode == SSL_MUTEXMODE_NONE) 
         return TRUE;
 
+    apr_file_remove(mc->szMutexFile, p);
+
     if ((rv = apr_global_mutex_create(&mc->pMutex, mc->szMutexFile,
                                 mc->nMutexMech, p)) != APR_SUCCESS) {
         if (mc->szMutexFile)
--- a/server/Makefile.in
+++ b/server/Makefile.in
@@ -71,6 +71,9 @@ exports.c: export_files
 export_vars.h: export_files
 	$(AWK) -f $(top_srcdir)/build/make_var_export.awk `cat $?` > $@
 
+# Needed to allow exports.c to be generated in a parallel build successfully
+.NOTPARALLEL: $(top_builddir)/server/exports.c
+
 # Rule to make def file for OS/2 core dll
 ApacheCoreOS2.def: exports.c export_vars.h $(top_srcdir)/os/$(OS_DIR)/core_header.def
 	cat $(top_srcdir)/os/$(OS_DIR)/core_header.def > $@
--- a/server/core.c
+++ b/server/core.c
@@ -2504,7 +2504,7 @@ static void ap_set_version(apr_pool_t *p
         ap_add_version_component(pconf, AP_SERVER_BASEPRODUCT "/" AP_SERVER_MAJORVERSION);
     }
     else {
-        ap_add_version_component(pconf, AP_SERVER_BASEVERSION " (" PLATFORM ")");
+        ap_add_version_component(pconf, AP_SERVER_BASEVERSION " (Gentoo)");
     }
 
     /*
--- a/support/apxs.in
+++ b/support/apxs.in
@@ -199,19 +199,6 @@ if ($0 =~ m:support/apxs$:) {
     ($httpd = $0) =~ s:support/apxs$::;
 }
 
-unless (-x "$httpd") {
-	error("$httpd not found or not executable");
-	exit 1;
-}
-
-unless (grep /mod_so/, `. $envvars && $httpd -l`) {
-    error("Sorry, no shared object support for Apache");
-    error("available under your platform. Make sure");
-    error("the Apache module mod_so is compiled into");
-    error("your server binary `$httpd'.");
-    exit 1;
-}
-
 sub get_config_vars{
     my ($file, $rh_config) = @_;
 
